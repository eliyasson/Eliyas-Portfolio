{"ast":null,"code":"/*! @license ScrollReveal v4.0.9\r\n\r\n\tCopyright 2021 Fisssion LLC.\r\n\r\n\tLicensed under the GNU General Public License 3.0 for\r\n\tcompatible open source projects and non-commercial use.\r\n\r\n\tFor commercial sites, themes, projects, and applications,\r\n\tkeep your source code private/proprietary by purchasing\r\n\ta commercial license from https://scrollrevealjs.org/\r\n*/\nimport $ from 'tealight';\nimport { translateY, translateX, rotateX, rotateY, rotateZ, scale, parse, multiply } from 'rematrix';\nimport raf from 'miniraf';\nvar defaults = {\n  delay: 0,\n  distance: '0',\n  duration: 600,\n  easing: 'cubic-bezier(0.5, 0, 0, 1)',\n  interval: 0,\n  opacity: 0,\n  origin: 'bottom',\n  rotate: {\n    x: 0,\n    y: 0,\n    z: 0\n  },\n  scale: 1,\n  cleanup: false,\n  container: document.documentElement,\n  desktop: true,\n  mobile: true,\n  reset: false,\n  useDelay: 'always',\n  viewFactor: 0.0,\n  viewOffset: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  },\n  afterReset: function afterReset() {},\n  afterReveal: function afterReveal() {},\n  beforeReset: function beforeReset() {},\n  beforeReveal: function beforeReveal() {}\n};\nfunction failure() {\n  document.documentElement.classList.remove('sr');\n  return {\n    clean: function clean() {},\n    destroy: function destroy() {},\n    reveal: function reveal() {},\n    sync: function sync() {},\n    get noop() {\n      return true;\n    }\n  };\n}\nfunction success() {\n  document.documentElement.classList.add('sr');\n  if (document.body) {\n    document.body.style.height = '100%';\n  } else {\n    document.addEventListener('DOMContentLoaded', function () {\n      document.body.style.height = '100%';\n    });\n  }\n}\nvar mount = {\n  success: success,\n  failure: failure\n};\nfunction isObject(x) {\n  return x !== null && x instanceof Object && (x.constructor === Object || Object.prototype.toString.call(x) === '[object Object]');\n}\nfunction each(collection, callback) {\n  if (isObject(collection)) {\n    var keys = Object.keys(collection);\n    return keys.forEach(function (key) {\n      return callback(collection[key], key, collection);\n    });\n  }\n  if (collection instanceof Array) {\n    return collection.forEach(function (item, i) {\n      return callback(item, i, collection);\n    });\n  }\n  throw new TypeError('Expected either an array or object literal.');\n}\nfunction logger(message) {\n  var details = [],\n    len = arguments.length - 1;\n  while (len-- > 0) details[len] = arguments[len + 1];\n  if (this.constructor.debug && console) {\n    var report = \"%cScrollReveal: \" + message;\n    details.forEach(function (detail) {\n      return report += \"\\n — \" + detail;\n    });\n    console.log(report, 'color: #ea654b;'); // eslint-disable-line no-console\n  }\n}\nfunction rinse() {\n  var this$1 = this;\n  var struct = function () {\n    return {\n      active: [],\n      stale: []\n    };\n  };\n  var elementIds = struct();\n  var sequenceIds = struct();\n  var containerIds = struct();\n\n  /**\r\n   * Take stock of active element IDs.\r\n   */\n  try {\n    each($('[data-sr-id]'), function (node) {\n      var id = parseInt(node.getAttribute('data-sr-id'));\n      elementIds.active.push(id);\n    });\n  } catch (e) {\n    throw e;\n  }\n  /**\r\n   * Destroy stale elements.\r\n   */\n  each(this.store.elements, function (element) {\n    if (elementIds.active.indexOf(element.id) === -1) {\n      elementIds.stale.push(element.id);\n    }\n  });\n  each(elementIds.stale, function (staleId) {\n    return delete this$1.store.elements[staleId];\n  });\n\n  /**\r\n   * Take stock of active container and sequence IDs.\r\n   */\n  each(this.store.elements, function (element) {\n    if (containerIds.active.indexOf(element.containerId) === -1) {\n      containerIds.active.push(element.containerId);\n    }\n    if (element.hasOwnProperty('sequence')) {\n      if (sequenceIds.active.indexOf(element.sequence.id) === -1) {\n        sequenceIds.active.push(element.sequence.id);\n      }\n    }\n  });\n\n  /**\r\n   * Destroy stale containers.\r\n   */\n  each(this.store.containers, function (container) {\n    if (containerIds.active.indexOf(container.id) === -1) {\n      containerIds.stale.push(container.id);\n    }\n  });\n  each(containerIds.stale, function (staleId) {\n    var stale = this$1.store.containers[staleId].node;\n    stale.removeEventListener('scroll', this$1.delegate);\n    stale.removeEventListener('resize', this$1.delegate);\n    delete this$1.store.containers[staleId];\n  });\n\n  /**\r\n   * Destroy stale sequences.\r\n   */\n  each(this.store.sequences, function (sequence) {\n    if (sequenceIds.active.indexOf(sequence.id) === -1) {\n      sequenceIds.stale.push(sequence.id);\n    }\n  });\n  each(sequenceIds.stale, function (staleId) {\n    return delete this$1.store.sequences[staleId];\n  });\n}\nvar getPrefixedCssProp = function () {\n  var properties = {};\n  var style = document.documentElement.style;\n  function getPrefixedCssProperty(name, source) {\n    if (source === void 0) source = style;\n    if (name && typeof name === 'string') {\n      if (properties[name]) {\n        return properties[name];\n      }\n      if (typeof source[name] === 'string') {\n        return properties[name] = name;\n      }\n      if (typeof source[\"-webkit-\" + name] === 'string') {\n        return properties[name] = \"-webkit-\" + name;\n      }\n      throw new RangeError(\"Unable to find \\\"\" + name + \"\\\" style property.\");\n    }\n    throw new TypeError('Expected a string.');\n  }\n  getPrefixedCssProperty.clearCache = function () {\n    return properties = {};\n  };\n  return getPrefixedCssProperty;\n}();\nfunction style(element) {\n  var computed = window.getComputedStyle(element.node);\n  var position = computed.position;\n  var config = element.config;\n\n  /**\r\n   * Generate inline styles\r\n   */\n  var inline = {};\n  var inlineStyle = element.node.getAttribute('style') || '';\n  var inlineMatch = inlineStyle.match(/[\\w-]+\\s*:\\s*[^;]+\\s*/gi) || [];\n  inline.computed = inlineMatch ? inlineMatch.map(function (m) {\n    return m.trim();\n  }).join('; ') + ';' : '';\n  inline.generated = inlineMatch.some(function (m) {\n    return m.match(/visibility\\s?:\\s?visible/i);\n  }) ? inline.computed : inlineMatch.concat(['visibility: visible']).map(function (m) {\n    return m.trim();\n  }).join('; ') + ';';\n\n  /**\r\n   * Generate opacity styles\r\n   */\n  var computedOpacity = parseFloat(computed.opacity);\n  var configOpacity = !isNaN(parseFloat(config.opacity)) ? parseFloat(config.opacity) : parseFloat(computed.opacity);\n  var opacity = {\n    computed: computedOpacity !== configOpacity ? \"opacity: \" + computedOpacity + \";\" : '',\n    generated: computedOpacity !== configOpacity ? \"opacity: \" + configOpacity + \";\" : ''\n  };\n\n  /**\r\n   * Generate transformation styles\r\n   */\n  var transformations = [];\n  if (parseFloat(config.distance)) {\n    var axis = config.origin === 'top' || config.origin === 'bottom' ? 'Y' : 'X';\n\n    /**\r\n     * Let’s make sure our our pixel distances are negative for top and left.\r\n     * e.g. { origin: 'top', distance: '25px' } starts at `top: -25px` in CSS.\r\n     */\n    var distance = config.distance;\n    if (config.origin === 'top' || config.origin === 'left') {\n      distance = /^-/.test(distance) ? distance.substr(1) : \"-\" + distance;\n    }\n    var ref = distance.match(/(^-?\\d+\\.?\\d?)|(em$|px$|%$)/g);\n    var value = ref[0];\n    var unit = ref[1];\n    switch (unit) {\n      case 'em':\n        distance = parseInt(computed.fontSize) * value;\n        break;\n      case 'px':\n        distance = value;\n        break;\n      case '%':\n        /**\r\n         * Here we use `getBoundingClientRect` instead of\r\n         * the existing data attached to `element.geometry`\r\n         * because only the former includes any transformations\r\n         * current applied to the element.\r\n         *\r\n         * If that behavior ends up being unintuitive, this\r\n         * logic could instead utilize `element.geometry.height`\r\n         * and `element.geoemetry.width` for the distance calculation\r\n         */\n        distance = axis === 'Y' ? element.node.getBoundingClientRect().height * value / 100 : element.node.getBoundingClientRect().width * value / 100;\n        break;\n      default:\n        throw new RangeError('Unrecognized or missing distance unit.');\n    }\n    if (axis === 'Y') {\n      transformations.push(translateY(distance));\n    } else {\n      transformations.push(translateX(distance));\n    }\n  }\n  if (config.rotate.x) {\n    transformations.push(rotateX(config.rotate.x));\n  }\n  if (config.rotate.y) {\n    transformations.push(rotateY(config.rotate.y));\n  }\n  if (config.rotate.z) {\n    transformations.push(rotateZ(config.rotate.z));\n  }\n  if (config.scale !== 1) {\n    if (config.scale === 0) {\n      /**\r\n       * The CSS Transforms matrix interpolation specification\r\n       * basically disallows transitions of non-invertible\r\n       * matrixes, which means browsers won't transition\r\n       * elements with zero scale.\r\n       *\r\n       * That’s inconvenient for the API and developer\r\n       * experience, so we simply nudge their value\r\n       * slightly above zero; this allows browsers\r\n       * to transition our element as expected.\r\n       *\r\n       * `0.0002` was the smallest number\r\n       * that performed across browsers.\r\n       */\n      transformations.push(scale(0.0002));\n    } else {\n      transformations.push(scale(config.scale));\n    }\n  }\n  var transform = {};\n  if (transformations.length) {\n    transform.property = getPrefixedCssProp('transform');\n    /**\r\n     * The default computed transform value should be one of:\r\n     * undefined || 'none' || 'matrix()' || 'matrix3d()'\r\n     */\n    transform.computed = {\n      raw: computed[transform.property],\n      matrix: parse(computed[transform.property])\n    };\n    transformations.unshift(transform.computed.matrix);\n    var product = transformations.reduce(multiply);\n    transform.generated = {\n      initial: transform.property + \": matrix3d(\" + product.join(', ') + \");\",\n      final: transform.property + \": matrix3d(\" + transform.computed.matrix.join(', ') + \");\"\n    };\n  } else {\n    transform.generated = {\n      initial: '',\n      final: ''\n    };\n  }\n\n  /**\r\n   * Generate transition styles\r\n   */\n  var transition = {};\n  if (opacity.generated || transform.generated.initial) {\n    transition.property = getPrefixedCssProp('transition');\n    transition.computed = computed[transition.property];\n    transition.fragments = [];\n    var delay = config.delay;\n    var duration = config.duration;\n    var easing = config.easing;\n    if (opacity.generated) {\n      transition.fragments.push({\n        delayed: \"opacity \" + duration / 1000 + \"s \" + easing + \" \" + delay / 1000 + \"s\",\n        instant: \"opacity \" + duration / 1000 + \"s \" + easing + \" 0s\"\n      });\n    }\n    if (transform.generated.initial) {\n      transition.fragments.push({\n        delayed: transform.property + \" \" + duration / 1000 + \"s \" + easing + \" \" + delay / 1000 + \"s\",\n        instant: transform.property + \" \" + duration / 1000 + \"s \" + easing + \" 0s\"\n      });\n    }\n\n    /**\r\n     * The default computed transition property should be undefined, or one of:\r\n     * '' || 'none 0s ease 0s' || 'all 0s ease 0s' || 'all 0s 0s cubic-bezier()'\r\n     */\n    var hasCustomTransition = transition.computed && !transition.computed.match(/all 0s|none 0s/);\n    if (hasCustomTransition) {\n      transition.fragments.unshift({\n        delayed: transition.computed,\n        instant: transition.computed\n      });\n    }\n    var composed = transition.fragments.reduce(function (composition, fragment, i) {\n      composition.delayed += i === 0 ? fragment.delayed : \", \" + fragment.delayed;\n      composition.instant += i === 0 ? fragment.instant : \", \" + fragment.instant;\n      return composition;\n    }, {\n      delayed: '',\n      instant: ''\n    });\n    transition.generated = {\n      delayed: transition.property + \": \" + composed.delayed + \";\",\n      instant: transition.property + \": \" + composed.instant + \";\"\n    };\n  } else {\n    transition.generated = {\n      delayed: '',\n      instant: ''\n    };\n  }\n  return {\n    inline: inline,\n    opacity: opacity,\n    position: position,\n    transform: transform,\n    transition: transition\n  };\n}\n\n/**\r\n * apply a CSS string to an element using the CSSOM (element.style) rather\r\n * than setAttribute, which may violate the content security policy.\r\n *\r\n * @param {Node}   [el]  Element to receive styles.\r\n * @param {string} [declaration] Styles to apply.\r\n */\nfunction applyStyle(el, declaration) {\n  declaration.split(';').forEach(function (pair) {\n    var ref = pair.split(':');\n    var property = ref[0];\n    var value = ref.slice(1);\n    if (property && value) {\n      el.style[property.trim()] = value.join(':');\n    }\n  });\n}\nfunction clean(target) {\n  var this$1 = this;\n  var dirty;\n  try {\n    each($(target), function (node) {\n      var id = node.getAttribute('data-sr-id');\n      if (id !== null) {\n        dirty = true;\n        var element = this$1.store.elements[id];\n        if (element.callbackTimer) {\n          window.clearTimeout(element.callbackTimer.clock);\n        }\n        applyStyle(element.node, element.styles.inline.generated);\n        node.removeAttribute('data-sr-id');\n        delete this$1.store.elements[id];\n      }\n    });\n  } catch (e) {\n    return logger.call(this, 'Clean failed.', e.message);\n  }\n  if (dirty) {\n    try {\n      rinse.call(this);\n    } catch (e) {\n      return logger.call(this, 'Clean failed.', e.message);\n    }\n  }\n}\nfunction destroy() {\n  var this$1 = this;\n\n  /**\r\n   * Remove all generated styles and element ids\r\n   */\n  each(this.store.elements, function (element) {\n    applyStyle(element.node, element.styles.inline.generated);\n    element.node.removeAttribute('data-sr-id');\n  });\n\n  /**\r\n   * Remove all event listeners.\r\n   */\n  each(this.store.containers, function (container) {\n    var target = container.node === document.documentElement ? window : container.node;\n    target.removeEventListener('scroll', this$1.delegate);\n    target.removeEventListener('resize', this$1.delegate);\n  });\n\n  /**\r\n   * Clear all data from the store\r\n   */\n  this.store = {\n    containers: {},\n    elements: {},\n    history: [],\n    sequences: {}\n  };\n}\nfunction deepAssign(target) {\n  var sources = [],\n    len = arguments.length - 1;\n  while (len-- > 0) sources[len] = arguments[len + 1];\n  if (isObject(target)) {\n    each(sources, function (source) {\n      each(source, function (data, key) {\n        if (isObject(data)) {\n          if (!target[key] || !isObject(target[key])) {\n            target[key] = {};\n          }\n          deepAssign(target[key], data);\n        } else {\n          target[key] = data;\n        }\n      });\n    });\n    return target;\n  } else {\n    throw new TypeError('Target must be an object literal.');\n  }\n}\nfunction isMobile(agent) {\n  if (agent === void 0) agent = navigator.userAgent;\n  return /Android|iPhone|iPad|iPod/i.test(agent);\n}\nvar nextUniqueId = function () {\n  var uid = 0;\n  return function () {\n    return uid++;\n  };\n}();\nfunction initialize() {\n  var this$1 = this;\n  rinse.call(this);\n  each(this.store.elements, function (element) {\n    var styles = [element.styles.inline.generated];\n    if (element.visible) {\n      styles.push(element.styles.opacity.computed);\n      styles.push(element.styles.transform.generated.final);\n      element.revealed = true;\n    } else {\n      styles.push(element.styles.opacity.generated);\n      styles.push(element.styles.transform.generated.initial);\n      element.revealed = false;\n    }\n    applyStyle(element.node, styles.filter(function (s) {\n      return s !== '';\n    }).join(' '));\n  });\n  each(this.store.containers, function (container) {\n    var target = container.node === document.documentElement ? window : container.node;\n    target.addEventListener('scroll', this$1.delegate);\n    target.addEventListener('resize', this$1.delegate);\n  });\n\n  /**\r\n   * Manually invoke delegate once to capture\r\n   * element and container dimensions, container\r\n   * scroll position, and trigger any valid reveals\r\n   */\n  this.delegate();\n\n  /**\r\n   * Wipe any existing `setTimeout` now\r\n   * that initialization has completed.\r\n   */\n  this.initTimeout = null;\n}\nfunction animate(element, force) {\n  if (force === void 0) force = {};\n  var pristine = force.pristine || this.pristine;\n  var delayed = element.config.useDelay === 'always' || element.config.useDelay === 'onload' && pristine || element.config.useDelay === 'once' && !element.seen;\n  var shouldReveal = element.visible && !element.revealed;\n  var shouldReset = !element.visible && element.revealed && element.config.reset;\n  if (force.reveal || shouldReveal) {\n    return triggerReveal.call(this, element, delayed);\n  }\n  if (force.reset || shouldReset) {\n    return triggerReset.call(this, element);\n  }\n}\nfunction triggerReveal(element, delayed) {\n  var styles = [element.styles.inline.generated, element.styles.opacity.computed, element.styles.transform.generated.final];\n  if (delayed) {\n    styles.push(element.styles.transition.generated.delayed);\n  } else {\n    styles.push(element.styles.transition.generated.instant);\n  }\n  element.revealed = element.seen = true;\n  applyStyle(element.node, styles.filter(function (s) {\n    return s !== '';\n  }).join(' '));\n  registerCallbacks.call(this, element, delayed);\n}\nfunction triggerReset(element) {\n  var styles = [element.styles.inline.generated, element.styles.opacity.generated, element.styles.transform.generated.initial, element.styles.transition.generated.instant];\n  element.revealed = false;\n  applyStyle(element.node, styles.filter(function (s) {\n    return s !== '';\n  }).join(' '));\n  registerCallbacks.call(this, element);\n}\nfunction registerCallbacks(element, isDelayed) {\n  var this$1 = this;\n  var duration = isDelayed ? element.config.duration + element.config.delay : element.config.duration;\n  var beforeCallback = element.revealed ? element.config.beforeReveal : element.config.beforeReset;\n  var afterCallback = element.revealed ? element.config.afterReveal : element.config.afterReset;\n  var elapsed = 0;\n  if (element.callbackTimer) {\n    elapsed = Date.now() - element.callbackTimer.start;\n    window.clearTimeout(element.callbackTimer.clock);\n  }\n  beforeCallback(element.node);\n  element.callbackTimer = {\n    start: Date.now(),\n    clock: window.setTimeout(function () {\n      afterCallback(element.node);\n      element.callbackTimer = null;\n      if (element.revealed && !element.config.reset && element.config.cleanup) {\n        clean.call(this$1, element.node);\n      }\n    }, duration - elapsed)\n  };\n}\nfunction sequence(element, pristine) {\n  if (pristine === void 0) pristine = this.pristine;\n\n  /**\r\n   * We first check if the element should reset.\r\n   */\n  if (!element.visible && element.revealed && element.config.reset) {\n    return animate.call(this, element, {\n      reset: true\n    });\n  }\n  var seq = this.store.sequences[element.sequence.id];\n  var i = element.sequence.index;\n  if (seq) {\n    var visible = new SequenceModel(seq, 'visible', this.store);\n    var revealed = new SequenceModel(seq, 'revealed', this.store);\n    seq.models = {\n      visible: visible,\n      revealed: revealed\n    };\n\n    /**\r\n     * If the sequence has no revealed members,\r\n     * then we reveal the first visible element\r\n     * within that sequence.\r\n     *\r\n     * The sequence then cues a recursive call\r\n     * in both directions.\r\n     */\n    if (!revealed.body.length) {\n      var nextId = seq.members[visible.body[0]];\n      var nextElement = this.store.elements[nextId];\n      if (nextElement) {\n        cue.call(this, seq, visible.body[0], -1, pristine);\n        cue.call(this, seq, visible.body[0], +1, pristine);\n        return animate.call(this, nextElement, {\n          reveal: true,\n          pristine: pristine\n        });\n      }\n    }\n\n    /**\r\n     * If our element isn’t resetting, we check the\r\n     * element sequence index against the head, and\r\n     * then the foot of the sequence.\r\n     */\n    if (!seq.blocked.head && i === [].concat(revealed.head).pop() && i >= [].concat(visible.body).shift()) {\n      cue.call(this, seq, i, -1, pristine);\n      return animate.call(this, element, {\n        reveal: true,\n        pristine: pristine\n      });\n    }\n    if (!seq.blocked.foot && i === [].concat(revealed.foot).shift() && i <= [].concat(visible.body).pop()) {\n      cue.call(this, seq, i, +1, pristine);\n      return animate.call(this, element, {\n        reveal: true,\n        pristine: pristine\n      });\n    }\n  }\n}\nfunction Sequence(interval) {\n  var i = Math.abs(interval);\n  if (!isNaN(i)) {\n    this.id = nextUniqueId();\n    this.interval = Math.max(i, 16);\n    this.members = [];\n    this.models = {};\n    this.blocked = {\n      head: false,\n      foot: false\n    };\n  } else {\n    throw new RangeError('Invalid sequence interval.');\n  }\n}\nfunction SequenceModel(seq, prop, store) {\n  var this$1 = this;\n  this.head = [];\n  this.body = [];\n  this.foot = [];\n  each(seq.members, function (id, index) {\n    var element = store.elements[id];\n    if (element && element[prop]) {\n      this$1.body.push(index);\n    }\n  });\n  if (this.body.length) {\n    each(seq.members, function (id, index) {\n      var element = store.elements[id];\n      if (element && !element[prop]) {\n        if (index < this$1.body[0]) {\n          this$1.head.push(index);\n        } else {\n          this$1.foot.push(index);\n        }\n      }\n    });\n  }\n}\nfunction cue(seq, i, direction, pristine) {\n  var this$1 = this;\n  var blocked = ['head', null, 'foot'][1 + direction];\n  var nextId = seq.members[i + direction];\n  var nextElement = this.store.elements[nextId];\n  seq.blocked[blocked] = true;\n  setTimeout(function () {\n    seq.blocked[blocked] = false;\n    if (nextElement) {\n      sequence.call(this$1, nextElement, pristine);\n    }\n  }, seq.interval);\n}\nfunction reveal(target, options, syncing) {\n  var this$1 = this;\n  if (options === void 0) options = {};\n  if (syncing === void 0) syncing = false;\n  var containerBuffer = [];\n  var sequence$$1;\n  var interval = options.interval || defaults.interval;\n  try {\n    if (interval) {\n      sequence$$1 = new Sequence(interval);\n    }\n    var nodes = $(target);\n    if (!nodes.length) {\n      throw new Error('Invalid reveal target.');\n    }\n    var elements = nodes.reduce(function (elementBuffer, elementNode) {\n      var element = {};\n      var existingId = elementNode.getAttribute('data-sr-id');\n      if (existingId) {\n        deepAssign(element, this$1.store.elements[existingId]);\n\n        /**\r\n         * In order to prevent previously generated styles\r\n         * from throwing off the new styles, the style tag\r\n         * has to be reverted to its pre-reveal state.\r\n         */\n        applyStyle(element.node, element.styles.inline.computed);\n      } else {\n        element.id = nextUniqueId();\n        element.node = elementNode;\n        element.seen = false;\n        element.revealed = false;\n        element.visible = false;\n      }\n      var config = deepAssign({}, element.config || this$1.defaults, options);\n      if (!config.mobile && isMobile() || !config.desktop && !isMobile()) {\n        if (existingId) {\n          clean.call(this$1, element);\n        }\n        return elementBuffer; // skip elements that are disabled\n      }\n      var containerNode = $(config.container)[0];\n      if (!containerNode) {\n        throw new Error('Invalid container.');\n      }\n      if (!containerNode.contains(elementNode)) {\n        return elementBuffer; // skip elements found outside the container\n      }\n      var containerId;\n      {\n        containerId = getContainerId(containerNode, containerBuffer, this$1.store.containers);\n        if (containerId === null) {\n          containerId = nextUniqueId();\n          containerBuffer.push({\n            id: containerId,\n            node: containerNode\n          });\n        }\n      }\n      element.config = config;\n      element.containerId = containerId;\n      element.styles = style(element);\n      if (sequence$$1) {\n        element.sequence = {\n          id: sequence$$1.id,\n          index: sequence$$1.members.length\n        };\n        sequence$$1.members.push(element.id);\n      }\n      elementBuffer.push(element);\n      return elementBuffer;\n    }, []);\n\n    /**\r\n     * Modifying the DOM via setAttribute needs to be handled\r\n     * separately from reading computed styles in the map above\r\n     * for the browser to batch DOM changes (limiting reflows)\r\n     */\n    each(elements, function (element) {\n      this$1.store.elements[element.id] = element;\n      element.node.setAttribute('data-sr-id', element.id);\n    });\n  } catch (e) {\n    return logger.call(this, 'Reveal failed.', e.message);\n  }\n\n  /**\r\n   * Now that element set-up is complete...\r\n   * Let’s commit any container and sequence data we have to the store.\r\n   */\n  each(containerBuffer, function (container) {\n    this$1.store.containers[container.id] = {\n      id: container.id,\n      node: container.node\n    };\n  });\n  if (sequence$$1) {\n    this.store.sequences[sequence$$1.id] = sequence$$1;\n  }\n\n  /**\r\n   * If reveal wasn't invoked by sync, we want to\r\n   * make sure to add this call to the history.\r\n   */\n  if (syncing !== true) {\n    this.store.history.push({\n      target: target,\n      options: options\n    });\n\n    /**\r\n     * Push initialization to the event queue, giving\r\n     * multiple reveal calls time to be interpreted.\r\n     */\n    if (this.initTimeout) {\n      window.clearTimeout(this.initTimeout);\n    }\n    this.initTimeout = window.setTimeout(initialize.bind(this), 0);\n  }\n}\nfunction getContainerId(node) {\n  var collections = [],\n    len = arguments.length - 1;\n  while (len-- > 0) collections[len] = arguments[len + 1];\n  var id = null;\n  each(collections, function (collection) {\n    each(collection, function (container) {\n      if (id === null && container.node === node) {\n        id = container.id;\n      }\n    });\n  });\n  return id;\n}\n\n/**\r\n * Re-runs the reveal method for each record stored in history,\r\n * for capturing new content asynchronously loaded into the DOM.\r\n */\nfunction sync() {\n  var this$1 = this;\n  each(this.store.history, function (record) {\n    reveal.call(this$1, record.target, record.options, true);\n  });\n  initialize.call(this);\n}\nvar polyfill = function (x) {\n  return (x > 0) - (x < 0) || +x;\n};\nvar mathSign = Math.sign || polyfill;\nfunction getGeometry(target, isContainer) {\n  /**\r\n   * We want to ignore padding and scrollbars for container elements.\r\n   * More information here: https://goo.gl/vOZpbz\r\n   */\n  var height = isContainer ? target.node.clientHeight : target.node.offsetHeight;\n  var width = isContainer ? target.node.clientWidth : target.node.offsetWidth;\n  var offsetTop = 0;\n  var offsetLeft = 0;\n  var node = target.node;\n  do {\n    if (!isNaN(node.offsetTop)) {\n      offsetTop += node.offsetTop;\n    }\n    if (!isNaN(node.offsetLeft)) {\n      offsetLeft += node.offsetLeft;\n    }\n    node = node.offsetParent;\n  } while (node);\n  return {\n    bounds: {\n      top: offsetTop,\n      right: offsetLeft + width,\n      bottom: offsetTop + height,\n      left: offsetLeft\n    },\n    height: height,\n    width: width\n  };\n}\nfunction getScrolled(container) {\n  var top, left;\n  if (container.node === document.documentElement) {\n    top = window.pageYOffset;\n    left = window.pageXOffset;\n  } else {\n    top = container.node.scrollTop;\n    left = container.node.scrollLeft;\n  }\n  return {\n    top: top,\n    left: left\n  };\n}\nfunction isElementVisible(element) {\n  if (element === void 0) element = {};\n  var container = this.store.containers[element.containerId];\n  if (!container) {\n    return;\n  }\n  var viewFactor = Math.max(0, Math.min(1, element.config.viewFactor));\n  var viewOffset = element.config.viewOffset;\n  var elementBounds = {\n    top: element.geometry.bounds.top + element.geometry.height * viewFactor,\n    right: element.geometry.bounds.right - element.geometry.width * viewFactor,\n    bottom: element.geometry.bounds.bottom - element.geometry.height * viewFactor,\n    left: element.geometry.bounds.left + element.geometry.width * viewFactor\n  };\n  var containerBounds = {\n    top: container.geometry.bounds.top + container.scroll.top + viewOffset.top,\n    right: container.geometry.bounds.right + container.scroll.left - viewOffset.right,\n    bottom: container.geometry.bounds.bottom + container.scroll.top - viewOffset.bottom,\n    left: container.geometry.bounds.left + container.scroll.left + viewOffset.left\n  };\n  return elementBounds.top < containerBounds.bottom && elementBounds.right > containerBounds.left && elementBounds.bottom > containerBounds.top && elementBounds.left < containerBounds.right || element.styles.position === 'fixed';\n}\nfunction delegate(event, elements) {\n  var this$1 = this;\n  if (event === void 0) event = {\n    type: 'init'\n  };\n  if (elements === void 0) elements = this.store.elements;\n  raf(function () {\n    var stale = event.type === 'init' || event.type === 'resize';\n    each(this$1.store.containers, function (container) {\n      if (stale) {\n        container.geometry = getGeometry.call(this$1, container, true);\n      }\n      var scroll = getScrolled.call(this$1, container);\n      if (container.scroll) {\n        container.direction = {\n          x: mathSign(scroll.left - container.scroll.left),\n          y: mathSign(scroll.top - container.scroll.top)\n        };\n      }\n      container.scroll = scroll;\n    });\n\n    /**\r\n     * Due to how the sequencer is implemented, it’s\r\n     * important that we update the state of all\r\n     * elements, before any animation logic is\r\n     * evaluated (in the second loop below).\r\n     */\n    each(elements, function (element) {\n      if (stale || element.geometry === undefined) {\n        element.geometry = getGeometry.call(this$1, element);\n      }\n      element.visible = isElementVisible.call(this$1, element);\n    });\n    each(elements, function (element) {\n      if (element.sequence) {\n        sequence.call(this$1, element);\n      } else {\n        animate.call(this$1, element);\n      }\n    });\n    this$1.pristine = false;\n  });\n}\nfunction isTransformSupported() {\n  var style = document.documentElement.style;\n  return 'transform' in style || 'WebkitTransform' in style;\n}\nfunction isTransitionSupported() {\n  var style = document.documentElement.style;\n  return 'transition' in style || 'WebkitTransition' in style;\n}\nvar version = \"4.0.9\";\nvar boundDelegate;\nvar boundDestroy;\nvar boundReveal;\nvar boundClean;\nvar boundSync;\nvar config;\nvar debug;\nvar instance;\nfunction ScrollReveal(options) {\n  if (options === void 0) options = {};\n  var invokedWithoutNew = typeof this === 'undefined' || Object.getPrototypeOf(this) !== ScrollReveal.prototype;\n  if (invokedWithoutNew) {\n    return new ScrollReveal(options);\n  }\n  if (!ScrollReveal.isSupported()) {\n    logger.call(this, 'Instantiation failed.', 'This browser is not supported.');\n    return mount.failure();\n  }\n  var buffer;\n  try {\n    buffer = config ? deepAssign({}, config, options) : deepAssign({}, defaults, options);\n  } catch (e) {\n    logger.call(this, 'Invalid configuration.', e.message);\n    return mount.failure();\n  }\n  try {\n    var container = $(buffer.container)[0];\n    if (!container) {\n      throw new Error('Invalid container.');\n    }\n  } catch (e) {\n    logger.call(this, e.message);\n    return mount.failure();\n  }\n  config = buffer;\n  if (!config.mobile && isMobile() || !config.desktop && !isMobile()) {\n    logger.call(this, 'This device is disabled.', \"desktop: \" + config.desktop, \"mobile: \" + config.mobile);\n    return mount.failure();\n  }\n  mount.success();\n  this.store = {\n    containers: {},\n    elements: {},\n    history: [],\n    sequences: {}\n  };\n  this.pristine = true;\n  boundDelegate = boundDelegate || delegate.bind(this);\n  boundDestroy = boundDestroy || destroy.bind(this);\n  boundReveal = boundReveal || reveal.bind(this);\n  boundClean = boundClean || clean.bind(this);\n  boundSync = boundSync || sync.bind(this);\n  Object.defineProperty(this, 'delegate', {\n    get: function () {\n      return boundDelegate;\n    }\n  });\n  Object.defineProperty(this, 'destroy', {\n    get: function () {\n      return boundDestroy;\n    }\n  });\n  Object.defineProperty(this, 'reveal', {\n    get: function () {\n      return boundReveal;\n    }\n  });\n  Object.defineProperty(this, 'clean', {\n    get: function () {\n      return boundClean;\n    }\n  });\n  Object.defineProperty(this, 'sync', {\n    get: function () {\n      return boundSync;\n    }\n  });\n  Object.defineProperty(this, 'defaults', {\n    get: function () {\n      return config;\n    }\n  });\n  Object.defineProperty(this, 'version', {\n    get: function () {\n      return version;\n    }\n  });\n  Object.defineProperty(this, 'noop', {\n    get: function () {\n      return false;\n    }\n  });\n  return instance ? instance : instance = this;\n}\nScrollReveal.isSupported = function () {\n  return isTransformSupported() && isTransitionSupported();\n};\nObject.defineProperty(ScrollReveal, 'debug', {\n  get: function () {\n    return debug || false;\n  },\n  set: function (value) {\n    return debug = typeof value === 'boolean' ? value : debug;\n  }\n});\nScrollReveal();\nexport default ScrollReveal;","map":{"version":3,"names":["$","translateY","translateX","rotateX","rotateY","rotateZ","scale","parse","multiply","raf","defaults","delay","distance","duration","easing","interval","opacity","origin","rotate","x","y","z","cleanup","container","document","documentElement","desktop","mobile","reset","useDelay","viewFactor","viewOffset","top","right","bottom","left","afterReset","afterReveal","beforeReset","beforeReveal","failure","classList","remove","clean","destroy","reveal","sync","noop","success","add","body","style","height","addEventListener","mount","isObject","Object","constructor","prototype","toString","call","each","collection","callback","keys","forEach","key","Array","item","i","TypeError","logger","message","details","len","arguments","length","debug","console","report","detail","log","rinse","this$1","struct","active","stale","elementIds","sequenceIds","containerIds","node","id","parseInt","getAttribute","push","e","store","elements","element","indexOf","staleId","containerId","hasOwnProperty","sequence","containers","removeEventListener","delegate","sequences","getPrefixedCssProp","properties","getPrefixedCssProperty","name","source","RangeError","clearCache","computed","window","getComputedStyle","position","config","inline","inlineStyle","inlineMatch","match","map","m","trim","join","generated","some","concat","computedOpacity","parseFloat","configOpacity","isNaN","transformations","axis","test","substr","ref","value","unit","fontSize","getBoundingClientRect","width","transform","property","raw","matrix","unshift","product","reduce","initial","final","transition","fragments","delayed","instant","hasCustomTransition","composed","composition","fragment","applyStyle","el","declaration","split","pair","slice","target","dirty","callbackTimer","clearTimeout","clock","styles","removeAttribute","history","deepAssign","sources","data","isMobile","agent","navigator","userAgent","nextUniqueId","uid","initialize","visible","revealed","filter","s","initTimeout","animate","force","pristine","seen","shouldReveal","shouldReset","triggerReveal","triggerReset","registerCallbacks","isDelayed","beforeCallback","afterCallback","elapsed","Date","now","start","setTimeout","seq","index","SequenceModel","models","nextId","members","nextElement","cue","blocked","head","pop","shift","foot","Sequence","Math","abs","max","prop","direction","options","syncing","containerBuffer","sequence$$1","nodes","Error","elementBuffer","elementNode","existingId","containerNode","contains","getContainerId","setAttribute","bind","collections","record","polyfill","mathSign","sign","getGeometry","isContainer","clientHeight","offsetHeight","clientWidth","offsetWidth","offsetTop","offsetLeft","offsetParent","bounds","getScrolled","pageYOffset","pageXOffset","scrollTop","scrollLeft","isElementVisible","min","elementBounds","geometry","containerBounds","scroll","event","type","undefined","isTransformSupported","isTransitionSupported","version","boundDelegate","boundDestroy","boundReveal","boundClean","boundSync","instance","ScrollReveal","invokedWithoutNew","getPrototypeOf","isSupported","buffer","defineProperty","get","set"],"sources":["C:/Users/eliya/OneDrive/Desktop/Eliyas Portfolio/node_modules/scrollreveal/dist/scrollreveal.es.js"],"sourcesContent":["/*! @license ScrollReveal v4.0.9\r\n\r\n\tCopyright 2021 Fisssion LLC.\r\n\r\n\tLicensed under the GNU General Public License 3.0 for\r\n\tcompatible open source projects and non-commercial use.\r\n\r\n\tFor commercial sites, themes, projects, and applications,\r\n\tkeep your source code private/proprietary by purchasing\r\n\ta commercial license from https://scrollrevealjs.org/\r\n*/\r\nimport $ from 'tealight';\r\nimport { translateY, translateX, rotateX, rotateY, rotateZ, scale, parse, multiply } from 'rematrix';\r\nimport raf from 'miniraf';\r\n\r\nvar defaults = {\r\n\tdelay: 0,\r\n\tdistance: '0',\r\n\tduration: 600,\r\n\teasing: 'cubic-bezier(0.5, 0, 0, 1)',\r\n\tinterval: 0,\r\n\topacity: 0,\r\n\torigin: 'bottom',\r\n\trotate: {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\tz: 0\r\n\t},\r\n\tscale: 1,\r\n\tcleanup: false,\r\n\tcontainer: document.documentElement,\r\n\tdesktop: true,\r\n\tmobile: true,\r\n\treset: false,\r\n\tuseDelay: 'always',\r\n\tviewFactor: 0.0,\r\n\tviewOffset: {\r\n\t\ttop: 0,\r\n\t\tright: 0,\r\n\t\tbottom: 0,\r\n\t\tleft: 0\r\n\t},\r\n\tafterReset: function afterReset() {},\r\n\tafterReveal: function afterReveal() {},\r\n\tbeforeReset: function beforeReset() {},\r\n\tbeforeReveal: function beforeReveal() {}\r\n};\r\n\r\nfunction failure() {\r\n\tdocument.documentElement.classList.remove('sr');\r\n\r\n\treturn {\r\n\t\tclean: function clean() {},\r\n\t\tdestroy: function destroy() {},\r\n\t\treveal: function reveal() {},\r\n\t\tsync: function sync() {},\r\n\t\tget noop() {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction success() {\r\n\tdocument.documentElement.classList.add('sr');\r\n\r\n\tif (document.body) {\r\n\t\tdocument.body.style.height = '100%';\r\n\t} else {\r\n\t\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\t\tdocument.body.style.height = '100%';\r\n\t\t});\r\n\t}\r\n}\r\n\r\nvar mount = { success: success, failure: failure };\r\n\r\nfunction isObject(x) {\r\n\treturn (\r\n\t\tx !== null &&\r\n\t\tx instanceof Object &&\r\n\t\t(x.constructor === Object ||\r\n\t\t\tObject.prototype.toString.call(x) === '[object Object]')\r\n\t)\r\n}\r\n\r\nfunction each(collection, callback) {\r\n\tif (isObject(collection)) {\r\n\t\tvar keys = Object.keys(collection);\r\n\t\treturn keys.forEach(function (key) { return callback(collection[key], key, collection); })\r\n\t}\r\n\tif (collection instanceof Array) {\r\n\t\treturn collection.forEach(function (item, i) { return callback(item, i, collection); })\r\n\t}\r\n\tthrow new TypeError('Expected either an array or object literal.')\r\n}\r\n\r\nfunction logger(message) {\r\n\tvar details = [], len = arguments.length - 1;\r\n\twhile ( len-- > 0 ) details[ len ] = arguments[ len + 1 ];\r\n\r\n\tif (this.constructor.debug && console) {\r\n\t\tvar report = \"%cScrollReveal: \" + message;\r\n\t\tdetails.forEach(function (detail) { return (report += \"\\n — \" + detail); });\r\n\t\tconsole.log(report, 'color: #ea654b;'); // eslint-disable-line no-console\r\n\t}\r\n}\r\n\r\nfunction rinse() {\r\n\tvar this$1 = this;\r\n\r\n\tvar struct = function () { return ({\r\n\t\tactive: [],\r\n\t\tstale: []\r\n\t}); };\r\n\r\n\tvar elementIds = struct();\r\n\tvar sequenceIds = struct();\r\n\tvar containerIds = struct();\r\n\r\n\t/**\r\n\t * Take stock of active element IDs.\r\n\t */\r\n\ttry {\r\n\t\teach($('[data-sr-id]'), function (node) {\r\n\t\t\tvar id = parseInt(node.getAttribute('data-sr-id'));\r\n\t\t\telementIds.active.push(id);\r\n\t\t});\r\n\t} catch (e) {\r\n\t\tthrow e\r\n\t}\r\n\t/**\r\n\t * Destroy stale elements.\r\n\t */\r\n\teach(this.store.elements, function (element) {\r\n\t\tif (elementIds.active.indexOf(element.id) === -1) {\r\n\t\t\telementIds.stale.push(element.id);\r\n\t\t}\r\n\t});\r\n\r\n\teach(elementIds.stale, function (staleId) { return delete this$1.store.elements[staleId]; });\r\n\r\n\t/**\r\n\t * Take stock of active container and sequence IDs.\r\n\t */\r\n\teach(this.store.elements, function (element) {\r\n\t\tif (containerIds.active.indexOf(element.containerId) === -1) {\r\n\t\t\tcontainerIds.active.push(element.containerId);\r\n\t\t}\r\n\t\tif (element.hasOwnProperty('sequence')) {\r\n\t\t\tif (sequenceIds.active.indexOf(element.sequence.id) === -1) {\r\n\t\t\t\tsequenceIds.active.push(element.sequence.id);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t * Destroy stale containers.\r\n\t */\r\n\teach(this.store.containers, function (container) {\r\n\t\tif (containerIds.active.indexOf(container.id) === -1) {\r\n\t\t\tcontainerIds.stale.push(container.id);\r\n\t\t}\r\n\t});\r\n\r\n\teach(containerIds.stale, function (staleId) {\r\n\t\tvar stale = this$1.store.containers[staleId].node;\r\n\t\tstale.removeEventListener('scroll', this$1.delegate);\r\n\t\tstale.removeEventListener('resize', this$1.delegate);\r\n\t\tdelete this$1.store.containers[staleId];\r\n\t});\r\n\r\n\t/**\r\n\t * Destroy stale sequences.\r\n\t */\r\n\teach(this.store.sequences, function (sequence) {\r\n\t\tif (sequenceIds.active.indexOf(sequence.id) === -1) {\r\n\t\t\tsequenceIds.stale.push(sequence.id);\r\n\t\t}\r\n\t});\r\n\r\n\teach(sequenceIds.stale, function (staleId) { return delete this$1.store.sequences[staleId]; });\r\n}\r\n\r\nvar getPrefixedCssProp = (function () {\r\n\tvar properties = {};\r\n\tvar style = document.documentElement.style;\r\n\r\n\tfunction getPrefixedCssProperty(name, source) {\r\n\t\tif ( source === void 0 ) source = style;\r\n\r\n\t\tif (name && typeof name === 'string') {\r\n\t\t\tif (properties[name]) {\r\n\t\t\t\treturn properties[name]\r\n\t\t\t}\r\n\t\t\tif (typeof source[name] === 'string') {\r\n\t\t\t\treturn (properties[name] = name)\r\n\t\t\t}\r\n\t\t\tif (typeof source[(\"-webkit-\" + name)] === 'string') {\r\n\t\t\t\treturn (properties[name] = \"-webkit-\" + name)\r\n\t\t\t}\r\n\t\t\tthrow new RangeError((\"Unable to find \\\"\" + name + \"\\\" style property.\"))\r\n\t\t}\r\n\t\tthrow new TypeError('Expected a string.')\r\n\t}\r\n\r\n\tgetPrefixedCssProperty.clearCache = function () { return (properties = {}); };\r\n\r\n\treturn getPrefixedCssProperty\r\n})();\r\n\r\nfunction style(element) {\r\n\tvar computed = window.getComputedStyle(element.node);\r\n\tvar position = computed.position;\r\n\tvar config = element.config;\r\n\r\n\t/**\r\n\t * Generate inline styles\r\n\t */\r\n\tvar inline = {};\r\n\tvar inlineStyle = element.node.getAttribute('style') || '';\r\n\tvar inlineMatch = inlineStyle.match(/[\\w-]+\\s*:\\s*[^;]+\\s*/gi) || [];\r\n\r\n\tinline.computed = inlineMatch ? inlineMatch.map(function (m) { return m.trim(); }).join('; ') + ';' : '';\r\n\r\n\tinline.generated = inlineMatch.some(function (m) { return m.match(/visibility\\s?:\\s?visible/i); })\r\n\t\t? inline.computed\r\n\t\t: inlineMatch.concat( ['visibility: visible']).map(function (m) { return m.trim(); }).join('; ') + ';';\r\n\r\n\t/**\r\n\t * Generate opacity styles\r\n\t */\r\n\tvar computedOpacity = parseFloat(computed.opacity);\r\n\tvar configOpacity = !isNaN(parseFloat(config.opacity))\r\n\t\t? parseFloat(config.opacity)\r\n\t\t: parseFloat(computed.opacity);\r\n\r\n\tvar opacity = {\r\n\t\tcomputed: computedOpacity !== configOpacity ? (\"opacity: \" + computedOpacity + \";\") : '',\r\n\t\tgenerated: computedOpacity !== configOpacity ? (\"opacity: \" + configOpacity + \";\") : ''\r\n\t};\r\n\r\n\t/**\r\n\t * Generate transformation styles\r\n\t */\r\n\tvar transformations = [];\r\n\r\n\tif (parseFloat(config.distance)) {\r\n\t\tvar axis = config.origin === 'top' || config.origin === 'bottom' ? 'Y' : 'X';\r\n\r\n\t\t/**\r\n\t\t * Let’s make sure our our pixel distances are negative for top and left.\r\n\t\t * e.g. { origin: 'top', distance: '25px' } starts at `top: -25px` in CSS.\r\n\t\t */\r\n\t\tvar distance = config.distance;\r\n\t\tif (config.origin === 'top' || config.origin === 'left') {\r\n\t\t\tdistance = /^-/.test(distance) ? distance.substr(1) : (\"-\" + distance);\r\n\t\t}\r\n\r\n\t\tvar ref = distance.match(/(^-?\\d+\\.?\\d?)|(em$|px$|%$)/g);\r\n\t\tvar value = ref[0];\r\n\t\tvar unit = ref[1];\r\n\r\n\t\tswitch (unit) {\r\n\t\t\tcase 'em':\r\n\t\t\t\tdistance = parseInt(computed.fontSize) * value;\r\n\t\t\t\tbreak\r\n\t\t\tcase 'px':\r\n\t\t\t\tdistance = value;\r\n\t\t\t\tbreak\r\n\t\t\tcase '%':\r\n\t\t\t\t/**\r\n\t\t\t\t * Here we use `getBoundingClientRect` instead of\r\n\t\t\t\t * the existing data attached to `element.geometry`\r\n\t\t\t\t * because only the former includes any transformations\r\n\t\t\t\t * current applied to the element.\r\n\t\t\t\t *\r\n\t\t\t\t * If that behavior ends up being unintuitive, this\r\n\t\t\t\t * logic could instead utilize `element.geometry.height`\r\n\t\t\t\t * and `element.geoemetry.width` for the distance calculation\r\n\t\t\t\t */\r\n\t\t\t\tdistance =\r\n\t\t\t\t\taxis === 'Y'\r\n\t\t\t\t\t\t? (element.node.getBoundingClientRect().height * value) / 100\r\n\t\t\t\t\t\t: (element.node.getBoundingClientRect().width * value) / 100;\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new RangeError('Unrecognized or missing distance unit.')\r\n\t\t}\r\n\r\n\t\tif (axis === 'Y') {\r\n\t\t\ttransformations.push(translateY(distance));\r\n\t\t} else {\r\n\t\t\ttransformations.push(translateX(distance));\r\n\t\t}\r\n\t}\r\n\r\n\tif (config.rotate.x) { transformations.push(rotateX(config.rotate.x)); }\r\n\tif (config.rotate.y) { transformations.push(rotateY(config.rotate.y)); }\r\n\tif (config.rotate.z) { transformations.push(rotateZ(config.rotate.z)); }\r\n\tif (config.scale !== 1) {\r\n\t\tif (config.scale === 0) {\r\n\t\t\t/**\r\n\t\t\t * The CSS Transforms matrix interpolation specification\r\n\t\t\t * basically disallows transitions of non-invertible\r\n\t\t\t * matrixes, which means browsers won't transition\r\n\t\t\t * elements with zero scale.\r\n\t\t\t *\r\n\t\t\t * That’s inconvenient for the API and developer\r\n\t\t\t * experience, so we simply nudge their value\r\n\t\t\t * slightly above zero; this allows browsers\r\n\t\t\t * to transition our element as expected.\r\n\t\t\t *\r\n\t\t\t * `0.0002` was the smallest number\r\n\t\t\t * that performed across browsers.\r\n\t\t\t */\r\n\t\t\ttransformations.push(scale(0.0002));\r\n\t\t} else {\r\n\t\t\ttransformations.push(scale(config.scale));\r\n\t\t}\r\n\t}\r\n\r\n\tvar transform = {};\r\n\tif (transformations.length) {\r\n\t\ttransform.property = getPrefixedCssProp('transform');\r\n\t\t/**\r\n\t\t * The default computed transform value should be one of:\r\n\t\t * undefined || 'none' || 'matrix()' || 'matrix3d()'\r\n\t\t */\r\n\t\ttransform.computed = {\r\n\t\t\traw: computed[transform.property],\r\n\t\t\tmatrix: parse(computed[transform.property])\r\n\t\t};\r\n\r\n\t\ttransformations.unshift(transform.computed.matrix);\r\n\t\tvar product = transformations.reduce(multiply);\r\n\r\n\t\ttransform.generated = {\r\n\t\t\tinitial: ((transform.property) + \": matrix3d(\" + (product.join(', ')) + \");\"),\r\n\t\t\tfinal: ((transform.property) + \": matrix3d(\" + (transform.computed.matrix.join(', ')) + \");\")\r\n\t\t};\r\n\t} else {\r\n\t\ttransform.generated = {\r\n\t\t\tinitial: '',\r\n\t\t\tfinal: ''\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Generate transition styles\r\n\t */\r\n\tvar transition = {};\r\n\tif (opacity.generated || transform.generated.initial) {\r\n\t\ttransition.property = getPrefixedCssProp('transition');\r\n\t\ttransition.computed = computed[transition.property];\r\n\t\ttransition.fragments = [];\r\n\r\n\t\tvar delay = config.delay;\r\n\t\tvar duration = config.duration;\r\n\t\tvar easing = config.easing;\r\n\r\n\t\tif (opacity.generated) {\r\n\t\t\ttransition.fragments.push({\r\n\t\t\t\tdelayed: (\"opacity \" + (duration / 1000) + \"s \" + easing + \" \" + (delay / 1000) + \"s\"),\r\n\t\t\t\tinstant: (\"opacity \" + (duration / 1000) + \"s \" + easing + \" 0s\")\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (transform.generated.initial) {\r\n\t\t\ttransition.fragments.push({\r\n\t\t\t\tdelayed: ((transform.property) + \" \" + (duration / 1000) + \"s \" + easing + \" \" + (delay / 1000) + \"s\"),\r\n\t\t\t\tinstant: ((transform.property) + \" \" + (duration / 1000) + \"s \" + easing + \" 0s\")\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * The default computed transition property should be undefined, or one of:\r\n\t\t * '' || 'none 0s ease 0s' || 'all 0s ease 0s' || 'all 0s 0s cubic-bezier()'\r\n\t\t */\r\n\t\tvar hasCustomTransition =\r\n\t\t\ttransition.computed && !transition.computed.match(/all 0s|none 0s/);\r\n\r\n\t\tif (hasCustomTransition) {\r\n\t\t\ttransition.fragments.unshift({\r\n\t\t\t\tdelayed: transition.computed,\r\n\t\t\t\tinstant: transition.computed\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar composed = transition.fragments.reduce(\r\n\t\t\tfunction (composition, fragment, i) {\r\n\t\t\t\tcomposition.delayed += i === 0 ? fragment.delayed : (\", \" + (fragment.delayed));\r\n\t\t\t\tcomposition.instant += i === 0 ? fragment.instant : (\", \" + (fragment.instant));\r\n\t\t\t\treturn composition\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tdelayed: '',\r\n\t\t\t\tinstant: ''\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\ttransition.generated = {\r\n\t\t\tdelayed: ((transition.property) + \": \" + (composed.delayed) + \";\"),\r\n\t\t\tinstant: ((transition.property) + \": \" + (composed.instant) + \";\")\r\n\t\t};\r\n\t} else {\r\n\t\ttransition.generated = {\r\n\t\t\tdelayed: '',\r\n\t\t\tinstant: ''\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tinline: inline,\r\n\t\topacity: opacity,\r\n\t\tposition: position,\r\n\t\ttransform: transform,\r\n\t\ttransition: transition\r\n\t}\r\n}\r\n\r\n/**\r\n * apply a CSS string to an element using the CSSOM (element.style) rather\r\n * than setAttribute, which may violate the content security policy.\r\n *\r\n * @param {Node}   [el]  Element to receive styles.\r\n * @param {string} [declaration] Styles to apply.\r\n */\r\nfunction applyStyle (el, declaration) {\r\n\tdeclaration.split(';').forEach(function (pair) {\r\n\t\tvar ref = pair.split(':');\r\n\t\tvar property = ref[0];\r\n\t\tvar value = ref.slice(1);\r\n\t\tif (property && value) {\r\n\t\t\tel.style[property.trim()] = value.join(':');\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction clean(target) {\r\n\tvar this$1 = this;\r\n\r\n\tvar dirty;\r\n\ttry {\r\n\t\teach($(target), function (node) {\r\n\t\t\tvar id = node.getAttribute('data-sr-id');\r\n\t\t\tif (id !== null) {\r\n\t\t\t\tdirty = true;\r\n\t\t\t\tvar element = this$1.store.elements[id];\r\n\t\t\t\tif (element.callbackTimer) {\r\n\t\t\t\t\twindow.clearTimeout(element.callbackTimer.clock);\r\n\t\t\t\t}\r\n\t\t\t\tapplyStyle(element.node, element.styles.inline.generated);\r\n\t\t\t\tnode.removeAttribute('data-sr-id');\r\n\t\t\t\tdelete this$1.store.elements[id];\r\n\t\t\t}\r\n\t\t});\r\n\t} catch (e) {\r\n\t\treturn logger.call(this, 'Clean failed.', e.message)\r\n\t}\r\n\r\n\tif (dirty) {\r\n\t\ttry {\r\n\t\t\trinse.call(this);\r\n\t\t} catch (e) {\r\n\t\t\treturn logger.call(this, 'Clean failed.', e.message)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction destroy() {\r\n\tvar this$1 = this;\r\n\r\n\t/**\r\n\t * Remove all generated styles and element ids\r\n\t */\r\n\teach(this.store.elements, function (element) {\r\n\t\tapplyStyle(element.node, element.styles.inline.generated);\r\n\t\telement.node.removeAttribute('data-sr-id');\r\n\t});\r\n\r\n\t/**\r\n\t * Remove all event listeners.\r\n\t */\r\n\teach(this.store.containers, function (container) {\r\n\t\tvar target =\r\n\t\t\tcontainer.node === document.documentElement ? window : container.node;\r\n\t\ttarget.removeEventListener('scroll', this$1.delegate);\r\n\t\ttarget.removeEventListener('resize', this$1.delegate);\r\n\t});\r\n\r\n\t/**\r\n\t * Clear all data from the store\r\n\t */\r\n\tthis.store = {\r\n\t\tcontainers: {},\r\n\t\telements: {},\r\n\t\thistory: [],\r\n\t\tsequences: {}\r\n\t};\r\n}\r\n\r\nfunction deepAssign(target) {\r\n\tvar sources = [], len = arguments.length - 1;\r\n\twhile ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\r\n\r\n\tif (isObject(target)) {\r\n\t\teach(sources, function (source) {\r\n\t\t\teach(source, function (data, key) {\r\n\t\t\t\tif (isObject(data)) {\r\n\t\t\t\t\tif (!target[key] || !isObject(target[key])) {\r\n\t\t\t\t\t\ttarget[key] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdeepAssign(target[key], data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget[key] = data;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn target\r\n\t} else {\r\n\t\tthrow new TypeError('Target must be an object literal.')\r\n\t}\r\n}\r\n\r\nfunction isMobile(agent) {\r\n\tif ( agent === void 0 ) agent = navigator.userAgent;\r\n\r\n\treturn /Android|iPhone|iPad|iPod/i.test(agent)\r\n}\r\n\r\nvar nextUniqueId = (function () {\r\n\tvar uid = 0;\r\n\treturn function () { return uid++; }\r\n})();\r\n\r\nfunction initialize() {\r\n\tvar this$1 = this;\r\n\r\n\trinse.call(this);\r\n\r\n\teach(this.store.elements, function (element) {\r\n\t\tvar styles = [element.styles.inline.generated];\r\n\r\n\t\tif (element.visible) {\r\n\t\t\tstyles.push(element.styles.opacity.computed);\r\n\t\t\tstyles.push(element.styles.transform.generated.final);\r\n\t\t\telement.revealed = true;\r\n\t\t} else {\r\n\t\t\tstyles.push(element.styles.opacity.generated);\r\n\t\t\tstyles.push(element.styles.transform.generated.initial);\r\n\t\t\telement.revealed = false;\r\n\t\t}\r\n\r\n\t\tapplyStyle(element.node, styles.filter(function (s) { return s !== ''; }).join(' '));\r\n\t});\r\n\r\n\teach(this.store.containers, function (container) {\r\n\t\tvar target =\r\n\t\t\tcontainer.node === document.documentElement ? window : container.node;\r\n\t\ttarget.addEventListener('scroll', this$1.delegate);\r\n\t\ttarget.addEventListener('resize', this$1.delegate);\r\n\t});\r\n\r\n\t/**\r\n\t * Manually invoke delegate once to capture\r\n\t * element and container dimensions, container\r\n\t * scroll position, and trigger any valid reveals\r\n\t */\r\n\tthis.delegate();\r\n\r\n\t/**\r\n\t * Wipe any existing `setTimeout` now\r\n\t * that initialization has completed.\r\n\t */\r\n\tthis.initTimeout = null;\r\n}\r\n\r\nfunction animate(element, force) {\r\n\tif ( force === void 0 ) force = {};\r\n\r\n\tvar pristine = force.pristine || this.pristine;\r\n\tvar delayed =\r\n\t\telement.config.useDelay === 'always' ||\r\n\t\t(element.config.useDelay === 'onload' && pristine) ||\r\n\t\t(element.config.useDelay === 'once' && !element.seen);\r\n\r\n\tvar shouldReveal = element.visible && !element.revealed;\r\n\tvar shouldReset = !element.visible && element.revealed && element.config.reset;\r\n\r\n\tif (force.reveal || shouldReveal) {\r\n\t\treturn triggerReveal.call(this, element, delayed)\r\n\t}\r\n\r\n\tif (force.reset || shouldReset) {\r\n\t\treturn triggerReset.call(this, element)\r\n\t}\r\n}\r\n\r\nfunction triggerReveal(element, delayed) {\r\n\tvar styles = [\r\n\t\telement.styles.inline.generated,\r\n\t\telement.styles.opacity.computed,\r\n\t\telement.styles.transform.generated.final\r\n\t];\r\n\tif (delayed) {\r\n\t\tstyles.push(element.styles.transition.generated.delayed);\r\n\t} else {\r\n\t\tstyles.push(element.styles.transition.generated.instant);\r\n\t}\r\n\telement.revealed = element.seen = true;\r\n\tapplyStyle(element.node, styles.filter(function (s) { return s !== ''; }).join(' '));\r\n\tregisterCallbacks.call(this, element, delayed);\r\n}\r\n\r\nfunction triggerReset(element) {\r\n\tvar styles = [\r\n\t\telement.styles.inline.generated,\r\n\t\telement.styles.opacity.generated,\r\n\t\telement.styles.transform.generated.initial,\r\n\t\telement.styles.transition.generated.instant\r\n\t];\r\n\telement.revealed = false;\r\n\tapplyStyle(element.node, styles.filter(function (s) { return s !== ''; }).join(' '));\r\n\tregisterCallbacks.call(this, element);\r\n}\r\n\r\nfunction registerCallbacks(element, isDelayed) {\r\n\tvar this$1 = this;\r\n\r\n\tvar duration = isDelayed\r\n\t\t? element.config.duration + element.config.delay\r\n\t\t: element.config.duration;\r\n\r\n\tvar beforeCallback = element.revealed\r\n\t\t? element.config.beforeReveal\r\n\t\t: element.config.beforeReset;\r\n\r\n\tvar afterCallback = element.revealed\r\n\t\t? element.config.afterReveal\r\n\t\t: element.config.afterReset;\r\n\r\n\tvar elapsed = 0;\r\n\tif (element.callbackTimer) {\r\n\t\telapsed = Date.now() - element.callbackTimer.start;\r\n\t\twindow.clearTimeout(element.callbackTimer.clock);\r\n\t}\r\n\r\n\tbeforeCallback(element.node);\r\n\r\n\telement.callbackTimer = {\r\n\t\tstart: Date.now(),\r\n\t\tclock: window.setTimeout(function () {\r\n\t\t\tafterCallback(element.node);\r\n\t\t\telement.callbackTimer = null;\r\n\t\t\tif (element.revealed && !element.config.reset && element.config.cleanup) {\r\n\t\t\t\tclean.call(this$1, element.node);\r\n\t\t\t}\r\n\t\t}, duration - elapsed)\r\n\t};\r\n}\r\n\r\nfunction sequence(element, pristine) {\r\n\tif ( pristine === void 0 ) pristine = this.pristine;\r\n\r\n\t/**\r\n\t * We first check if the element should reset.\r\n\t */\r\n\tif (!element.visible && element.revealed && element.config.reset) {\r\n\t\treturn animate.call(this, element, { reset: true })\r\n\t}\r\n\r\n\tvar seq = this.store.sequences[element.sequence.id];\r\n\tvar i = element.sequence.index;\r\n\r\n\tif (seq) {\r\n\t\tvar visible = new SequenceModel(seq, 'visible', this.store);\r\n\t\tvar revealed = new SequenceModel(seq, 'revealed', this.store);\r\n\r\n\t\tseq.models = { visible: visible, revealed: revealed };\r\n\r\n\t\t/**\r\n\t\t * If the sequence has no revealed members,\r\n\t\t * then we reveal the first visible element\r\n\t\t * within that sequence.\r\n\t\t *\r\n\t\t * The sequence then cues a recursive call\r\n\t\t * in both directions.\r\n\t\t */\r\n\t\tif (!revealed.body.length) {\r\n\t\t\tvar nextId = seq.members[visible.body[0]];\r\n\t\t\tvar nextElement = this.store.elements[nextId];\r\n\r\n\t\t\tif (nextElement) {\r\n\t\t\t\tcue.call(this, seq, visible.body[0], -1, pristine);\r\n\t\t\t\tcue.call(this, seq, visible.body[0], +1, pristine);\r\n\t\t\t\treturn animate.call(this, nextElement, { reveal: true, pristine: pristine })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * If our element isn’t resetting, we check the\r\n\t\t * element sequence index against the head, and\r\n\t\t * then the foot of the sequence.\r\n\t\t */\r\n\t\tif (\r\n\t\t\t!seq.blocked.head &&\r\n\t\t\ti === [].concat( revealed.head ).pop() &&\r\n\t\t\ti >= [].concat( visible.body ).shift()\r\n\t\t) {\r\n\t\t\tcue.call(this, seq, i, -1, pristine);\r\n\t\t\treturn animate.call(this, element, { reveal: true, pristine: pristine })\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\t!seq.blocked.foot &&\r\n\t\t\ti === [].concat( revealed.foot ).shift() &&\r\n\t\t\ti <= [].concat( visible.body ).pop()\r\n\t\t) {\r\n\t\t\tcue.call(this, seq, i, +1, pristine);\r\n\t\t\treturn animate.call(this, element, { reveal: true, pristine: pristine })\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction Sequence(interval) {\r\n\tvar i = Math.abs(interval);\r\n\tif (!isNaN(i)) {\r\n\t\tthis.id = nextUniqueId();\r\n\t\tthis.interval = Math.max(i, 16);\r\n\t\tthis.members = [];\r\n\t\tthis.models = {};\r\n\t\tthis.blocked = {\r\n\t\t\thead: false,\r\n\t\t\tfoot: false\r\n\t\t};\r\n\t} else {\r\n\t\tthrow new RangeError('Invalid sequence interval.')\r\n\t}\r\n}\r\n\r\nfunction SequenceModel(seq, prop, store) {\r\n\tvar this$1 = this;\r\n\r\n\tthis.head = [];\r\n\tthis.body = [];\r\n\tthis.foot = [];\r\n\r\n\teach(seq.members, function (id, index) {\r\n\t\tvar element = store.elements[id];\r\n\t\tif (element && element[prop]) {\r\n\t\t\tthis$1.body.push(index);\r\n\t\t}\r\n\t});\r\n\r\n\tif (this.body.length) {\r\n\t\teach(seq.members, function (id, index) {\r\n\t\t\tvar element = store.elements[id];\r\n\t\t\tif (element && !element[prop]) {\r\n\t\t\t\tif (index < this$1.body[0]) {\r\n\t\t\t\t\tthis$1.head.push(index);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis$1.foot.push(index);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction cue(seq, i, direction, pristine) {\r\n\tvar this$1 = this;\r\n\r\n\tvar blocked = ['head', null, 'foot'][1 + direction];\r\n\tvar nextId = seq.members[i + direction];\r\n\tvar nextElement = this.store.elements[nextId];\r\n\r\n\tseq.blocked[blocked] = true;\r\n\r\n\tsetTimeout(function () {\r\n\t\tseq.blocked[blocked] = false;\r\n\t\tif (nextElement) {\r\n\t\t\tsequence.call(this$1, nextElement, pristine);\r\n\t\t}\r\n\t}, seq.interval);\r\n}\r\n\r\nfunction reveal(target, options, syncing) {\r\n\tvar this$1 = this;\r\n\tif ( options === void 0 ) options = {};\r\n\tif ( syncing === void 0 ) syncing = false;\r\n\r\n\tvar containerBuffer = [];\r\n\tvar sequence$$1;\r\n\tvar interval = options.interval || defaults.interval;\r\n\r\n\ttry {\r\n\t\tif (interval) {\r\n\t\t\tsequence$$1 = new Sequence(interval);\r\n\t\t}\r\n\r\n\t\tvar nodes = $(target);\r\n\t\tif (!nodes.length) {\r\n\t\t\tthrow new Error('Invalid reveal target.')\r\n\t\t}\r\n\r\n\t\tvar elements = nodes.reduce(function (elementBuffer, elementNode) {\r\n\t\t\tvar element = {};\r\n\t\t\tvar existingId = elementNode.getAttribute('data-sr-id');\r\n\r\n\t\t\tif (existingId) {\r\n\t\t\t\tdeepAssign(element, this$1.store.elements[existingId]);\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * In order to prevent previously generated styles\r\n\t\t\t\t * from throwing off the new styles, the style tag\r\n\t\t\t\t * has to be reverted to its pre-reveal state.\r\n\t\t\t\t */\r\n\t\t\t\tapplyStyle(element.node, element.styles.inline.computed);\r\n\t\t\t} else {\r\n\t\t\t\telement.id = nextUniqueId();\r\n\t\t\t\telement.node = elementNode;\r\n\t\t\t\telement.seen = false;\r\n\t\t\t\telement.revealed = false;\r\n\t\t\t\telement.visible = false;\r\n\t\t\t}\r\n\r\n\t\t\tvar config = deepAssign({}, element.config || this$1.defaults, options);\r\n\r\n\t\t\tif ((!config.mobile && isMobile()) || (!config.desktop && !isMobile())) {\r\n\t\t\t\tif (existingId) {\r\n\t\t\t\t\tclean.call(this$1, element);\r\n\t\t\t\t}\r\n\t\t\t\treturn elementBuffer // skip elements that are disabled\r\n\t\t\t}\r\n\r\n\t\t\tvar containerNode = $(config.container)[0];\r\n\t\t\tif (!containerNode) {\r\n\t\t\t\tthrow new Error('Invalid container.')\r\n\t\t\t}\r\n\t\t\tif (!containerNode.contains(elementNode)) {\r\n\t\t\t\treturn elementBuffer // skip elements found outside the container\r\n\t\t\t}\r\n\r\n\t\t\tvar containerId;\r\n\t\t\t{\r\n\t\t\t\tcontainerId = getContainerId(\r\n\t\t\t\t\tcontainerNode,\r\n\t\t\t\t\tcontainerBuffer,\r\n\t\t\t\t\tthis$1.store.containers\r\n\t\t\t\t);\r\n\t\t\t\tif (containerId === null) {\r\n\t\t\t\t\tcontainerId = nextUniqueId();\r\n\t\t\t\t\tcontainerBuffer.push({ id: containerId, node: containerNode });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\telement.config = config;\r\n\t\t\telement.containerId = containerId;\r\n\t\t\telement.styles = style(element);\r\n\r\n\t\t\tif (sequence$$1) {\r\n\t\t\t\telement.sequence = {\r\n\t\t\t\t\tid: sequence$$1.id,\r\n\t\t\t\t\tindex: sequence$$1.members.length\r\n\t\t\t\t};\r\n\t\t\t\tsequence$$1.members.push(element.id);\r\n\t\t\t}\r\n\r\n\t\t\telementBuffer.push(element);\r\n\t\t\treturn elementBuffer\r\n\t\t}, []);\r\n\r\n\t\t/**\r\n\t\t * Modifying the DOM via setAttribute needs to be handled\r\n\t\t * separately from reading computed styles in the map above\r\n\t\t * for the browser to batch DOM changes (limiting reflows)\r\n\t\t */\r\n\t\teach(elements, function (element) {\r\n\t\t\tthis$1.store.elements[element.id] = element;\r\n\t\t\telement.node.setAttribute('data-sr-id', element.id);\r\n\t\t});\r\n\t} catch (e) {\r\n\t\treturn logger.call(this, 'Reveal failed.', e.message)\r\n\t}\r\n\r\n\t/**\r\n\t * Now that element set-up is complete...\r\n\t * Let’s commit any container and sequence data we have to the store.\r\n\t */\r\n\teach(containerBuffer, function (container) {\r\n\t\tthis$1.store.containers[container.id] = {\r\n\t\t\tid: container.id,\r\n\t\t\tnode: container.node\r\n\t\t};\r\n\t});\r\n\tif (sequence$$1) {\r\n\t\tthis.store.sequences[sequence$$1.id] = sequence$$1;\r\n\t}\r\n\r\n\t/**\r\n\t * If reveal wasn't invoked by sync, we want to\r\n\t * make sure to add this call to the history.\r\n\t */\r\n\tif (syncing !== true) {\r\n\t\tthis.store.history.push({ target: target, options: options });\r\n\r\n\t\t/**\r\n\t\t * Push initialization to the event queue, giving\r\n\t\t * multiple reveal calls time to be interpreted.\r\n\t\t */\r\n\t\tif (this.initTimeout) {\r\n\t\t\twindow.clearTimeout(this.initTimeout);\r\n\t\t}\r\n\t\tthis.initTimeout = window.setTimeout(initialize.bind(this), 0);\r\n\t}\r\n}\r\n\r\nfunction getContainerId(node) {\r\n\tvar collections = [], len = arguments.length - 1;\r\n\twhile ( len-- > 0 ) collections[ len ] = arguments[ len + 1 ];\r\n\r\n\tvar id = null;\r\n\teach(collections, function (collection) {\r\n\t\teach(collection, function (container) {\r\n\t\t\tif (id === null && container.node === node) {\r\n\t\t\t\tid = container.id;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\treturn id\r\n}\r\n\r\n/**\r\n * Re-runs the reveal method for each record stored in history,\r\n * for capturing new content asynchronously loaded into the DOM.\r\n */\r\nfunction sync() {\r\n\tvar this$1 = this;\r\n\r\n\teach(this.store.history, function (record) {\r\n\t\treveal.call(this$1, record.target, record.options, true);\r\n\t});\r\n\r\n\tinitialize.call(this);\r\n}\r\n\r\nvar polyfill = function (x) { return (x > 0) - (x < 0) || +x; };\r\nvar mathSign = Math.sign || polyfill;\r\n\r\nfunction getGeometry(target, isContainer) {\r\n\t/**\r\n\t * We want to ignore padding and scrollbars for container elements.\r\n\t * More information here: https://goo.gl/vOZpbz\r\n\t */\r\n\tvar height = isContainer ? target.node.clientHeight : target.node.offsetHeight;\r\n\tvar width = isContainer ? target.node.clientWidth : target.node.offsetWidth;\r\n\r\n\tvar offsetTop = 0;\r\n\tvar offsetLeft = 0;\r\n\tvar node = target.node;\r\n\r\n\tdo {\r\n\t\tif (!isNaN(node.offsetTop)) {\r\n\t\t\toffsetTop += node.offsetTop;\r\n\t\t}\r\n\t\tif (!isNaN(node.offsetLeft)) {\r\n\t\t\toffsetLeft += node.offsetLeft;\r\n\t\t}\r\n\t\tnode = node.offsetParent;\r\n\t} while (node)\r\n\r\n\treturn {\r\n\t\tbounds: {\r\n\t\t\ttop: offsetTop,\r\n\t\t\tright: offsetLeft + width,\r\n\t\t\tbottom: offsetTop + height,\r\n\t\t\tleft: offsetLeft\r\n\t\t},\r\n\t\theight: height,\r\n\t\twidth: width\r\n\t}\r\n}\r\n\r\nfunction getScrolled(container) {\r\n\tvar top, left;\r\n\tif (container.node === document.documentElement) {\r\n\t\ttop = window.pageYOffset;\r\n\t\tleft = window.pageXOffset;\r\n\t} else {\r\n\t\ttop = container.node.scrollTop;\r\n\t\tleft = container.node.scrollLeft;\r\n\t}\r\n\treturn { top: top, left: left }\r\n}\r\n\r\nfunction isElementVisible(element) {\r\n\tif ( element === void 0 ) element = {};\r\n\r\n\tvar container = this.store.containers[element.containerId];\r\n\tif (!container) { return }\r\n\r\n\tvar viewFactor = Math.max(0, Math.min(1, element.config.viewFactor));\r\n\tvar viewOffset = element.config.viewOffset;\r\n\r\n\tvar elementBounds = {\r\n\t\ttop: element.geometry.bounds.top + element.geometry.height * viewFactor,\r\n\t\tright: element.geometry.bounds.right - element.geometry.width * viewFactor,\r\n\t\tbottom: element.geometry.bounds.bottom - element.geometry.height * viewFactor,\r\n\t\tleft: element.geometry.bounds.left + element.geometry.width * viewFactor\r\n\t};\r\n\r\n\tvar containerBounds = {\r\n\t\ttop: container.geometry.bounds.top + container.scroll.top + viewOffset.top,\r\n\t\tright: container.geometry.bounds.right + container.scroll.left - viewOffset.right,\r\n\t\tbottom:\r\n\t\t\tcontainer.geometry.bounds.bottom + container.scroll.top - viewOffset.bottom,\r\n\t\tleft: container.geometry.bounds.left + container.scroll.left + viewOffset.left\r\n\t};\r\n\r\n\treturn (\r\n\t\t(elementBounds.top < containerBounds.bottom &&\r\n\t\t\telementBounds.right > containerBounds.left &&\r\n\t\t\telementBounds.bottom > containerBounds.top &&\r\n\t\t\telementBounds.left < containerBounds.right) ||\r\n\t\telement.styles.position === 'fixed'\r\n\t)\r\n}\r\n\r\nfunction delegate(\r\n\tevent,\r\n\telements\r\n) {\r\n\tvar this$1 = this;\r\n\tif ( event === void 0 ) event = { type: 'init' };\r\n\tif ( elements === void 0 ) elements = this.store.elements;\r\n\r\n\traf(function () {\r\n\t\tvar stale = event.type === 'init' || event.type === 'resize';\r\n\r\n\t\teach(this$1.store.containers, function (container) {\r\n\t\t\tif (stale) {\r\n\t\t\t\tcontainer.geometry = getGeometry.call(this$1, container, true);\r\n\t\t\t}\r\n\t\t\tvar scroll = getScrolled.call(this$1, container);\r\n\t\t\tif (container.scroll) {\r\n\t\t\t\tcontainer.direction = {\r\n\t\t\t\t\tx: mathSign(scroll.left - container.scroll.left),\r\n\t\t\t\t\ty: mathSign(scroll.top - container.scroll.top)\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tcontainer.scroll = scroll;\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Due to how the sequencer is implemented, it’s\r\n\t\t * important that we update the state of all\r\n\t\t * elements, before any animation logic is\r\n\t\t * evaluated (in the second loop below).\r\n\t\t */\r\n\t\teach(elements, function (element) {\r\n\t\t\tif (stale || element.geometry === undefined) {\r\n\t\t\t\telement.geometry = getGeometry.call(this$1, element);\r\n\t\t\t}\r\n\t\t\telement.visible = isElementVisible.call(this$1, element);\r\n\t\t});\r\n\r\n\t\teach(elements, function (element) {\r\n\t\t\tif (element.sequence) {\r\n\t\t\t\tsequence.call(this$1, element);\r\n\t\t\t} else {\r\n\t\t\t\tanimate.call(this$1, element);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis$1.pristine = false;\r\n\t});\r\n}\r\n\r\nfunction isTransformSupported() {\r\n\tvar style = document.documentElement.style;\r\n\treturn 'transform' in style || 'WebkitTransform' in style\r\n}\r\n\r\nfunction isTransitionSupported() {\r\n\tvar style = document.documentElement.style;\r\n\treturn 'transition' in style || 'WebkitTransition' in style\r\n}\r\n\r\nvar version = \"4.0.9\";\r\n\r\nvar boundDelegate;\r\nvar boundDestroy;\r\nvar boundReveal;\r\nvar boundClean;\r\nvar boundSync;\r\nvar config;\r\nvar debug;\r\nvar instance;\r\n\r\nfunction ScrollReveal(options) {\r\n\tif ( options === void 0 ) options = {};\r\n\r\n\tvar invokedWithoutNew =\r\n\t\ttypeof this === 'undefined' ||\r\n\t\tObject.getPrototypeOf(this) !== ScrollReveal.prototype;\r\n\r\n\tif (invokedWithoutNew) {\r\n\t\treturn new ScrollReveal(options)\r\n\t}\r\n\r\n\tif (!ScrollReveal.isSupported()) {\r\n\t\tlogger.call(this, 'Instantiation failed.', 'This browser is not supported.');\r\n\t\treturn mount.failure()\r\n\t}\r\n\r\n\tvar buffer;\r\n\ttry {\r\n\t\tbuffer = config\r\n\t\t\t? deepAssign({}, config, options)\r\n\t\t\t: deepAssign({}, defaults, options);\r\n\t} catch (e) {\r\n\t\tlogger.call(this, 'Invalid configuration.', e.message);\r\n\t\treturn mount.failure()\r\n\t}\r\n\r\n\ttry {\r\n\t\tvar container = $(buffer.container)[0];\r\n\t\tif (!container) {\r\n\t\t\tthrow new Error('Invalid container.')\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tlogger.call(this, e.message);\r\n\t\treturn mount.failure()\r\n\t}\r\n\r\n\tconfig = buffer;\r\n\r\n\tif ((!config.mobile && isMobile()) || (!config.desktop && !isMobile())) {\r\n\t\tlogger.call(\r\n\t\t\tthis,\r\n\t\t\t'This device is disabled.',\r\n\t\t\t(\"desktop: \" + (config.desktop)),\r\n\t\t\t(\"mobile: \" + (config.mobile))\r\n\t\t);\r\n\t\treturn mount.failure()\r\n\t}\r\n\r\n\tmount.success();\r\n\r\n\tthis.store = {\r\n\t\tcontainers: {},\r\n\t\telements: {},\r\n\t\thistory: [],\r\n\t\tsequences: {}\r\n\t};\r\n\r\n\tthis.pristine = true;\r\n\r\n\tboundDelegate = boundDelegate || delegate.bind(this);\r\n\tboundDestroy = boundDestroy || destroy.bind(this);\r\n\tboundReveal = boundReveal || reveal.bind(this);\r\n\tboundClean = boundClean || clean.bind(this);\r\n\tboundSync = boundSync || sync.bind(this);\r\n\r\n\tObject.defineProperty(this, 'delegate', { get: function () { return boundDelegate; } });\r\n\tObject.defineProperty(this, 'destroy', { get: function () { return boundDestroy; } });\r\n\tObject.defineProperty(this, 'reveal', { get: function () { return boundReveal; } });\r\n\tObject.defineProperty(this, 'clean', { get: function () { return boundClean; } });\r\n\tObject.defineProperty(this, 'sync', { get: function () { return boundSync; } });\r\n\r\n\tObject.defineProperty(this, 'defaults', { get: function () { return config; } });\r\n\tObject.defineProperty(this, 'version', { get: function () { return version; } });\r\n\tObject.defineProperty(this, 'noop', { get: function () { return false; } });\r\n\r\n\treturn instance ? instance : (instance = this)\r\n}\r\n\r\nScrollReveal.isSupported = function () { return isTransformSupported() && isTransitionSupported(); };\r\n\r\nObject.defineProperty(ScrollReveal, 'debug', {\r\n\tget: function () { return debug || false; },\r\n\tset: function (value) { return (debug = typeof value === 'boolean' ? value : debug); }\r\n});\r\n\r\nScrollReveal();\r\n\r\nexport default ScrollReveal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}